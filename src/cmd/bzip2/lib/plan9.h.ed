5c
#undef exit
#define exit(x) threadexitsall((x) ? "whoops" : nil)
.
2a
#include <thread.h>
.
